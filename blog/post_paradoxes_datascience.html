<!DOCTYPE html>
<html>
<head>
    <!--  Favicon  -->
    <link rel="apple-touch-icon" sizes="180x180" href="../favicons/apple-touch-icon.png">
    <link rel="manifest" href="../favicons/site.webmanifest">
    <link rel="icon" type="image/png" sizes="32x32" href="../favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../favicons/favicon-16x16.png">
    <link rel="shortcut icon" href="../favicons/favicon.ico">

    <!-- Meta Info -->
    <title>Francesco Casalegno - Personal Website</title>
    <meta charset="UTF-8">
    <meta name="description" content="Francesco Casalegno's personal website">
    <meta name="keywords" content="personal website, blog, data science, machine learning">
    <meta name="author" content="Francesco Casalegno">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Open Graph Meta -->
    <meta property="og:title" content="Top 3 Statistical Paradoxes in Data Science">
    <meta property="og:description"
          content="Observations biases and sub-group differences can produce statistical paradoxes.">
    <meta property="og:image" content="https://francescocasalegno.github.io/images/home-bg.jpg">
    <meta property="og:url" content="http://francescocasalegno.github.io/blog/post_paradoxes_datascience.html">
    <meta property="og:site_name" content="Francesco Casalegno's personal website">
    <meta name="twitter:card" content="summary_large_image">

    <!-- Style -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto&display=swap">
    <link rel="stylesheet" href="../css/style.css">

    <!-- Scripts -->
    <script src="https://kit.fontawesome.com/0bff17aed7.js" crossorigin="anonymous"></script>


    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.3/styles/darcula.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.3/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.3.2/languages/python.min.js"
            integrity="sha512-5IwlvN3ATowZMxsKB/BwpqzQuUA/6PBVTrf/6cZ452Sl7TGWqqd0I0r8M9SHmF5C6hh0gCOLRSyDwQEeyEQ3Dw=="
            crossorigin="anonymous"></script>

    <script>hljs.initHighlightingOnLoad();</script>

</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
    <div class="container">
        <a class="navbar-brand" href="../index.html">Francesco Casalegno</a>
        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse"
                data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false"
                aria-label="Toggle navigation">
            Menu
            <i class="fas fa-bars"></i>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a class="nav-link" href="../index.html">About</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link nav-currentpage" href="../blog.html">Blog</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="../resume.html">Resume</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="../contact.html">Contact</a>
                </li>
            </ul>
        </div>
    </div>
</nav>

<!-- Page Header -->
<header class="masthead" style="background-image: url('../images/home-bg.jpg')">
    <div class="overlay"></div>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-md-10 mx-auto">
                <div class="site-heading">
                    <h1>Statistical Paradoxes</h1>
                    <h2>Top 3 Paradoxes in Data Science</h2>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Main Content -->
<div class="container">
    <div class="row">
        <div class="col-lg-8 col-md-10 mx-auto">
            <p>Observations biases and sub-group differences can easily produce
                <strong>statistical paradoxes</strong> in any data science application.
                Ignoring these elements can therefore completely undermine the
                conclusions of our analysis.
            </p>
            <p>It is indeed not unusual to observe surprising phenomena such as sub-groups trends that are
                completely reverted in the aggregated data.
                In this article we look at the 3 most common kinds of statistical paradoxes encountered in Data
                Science.
            </p>
            <h1>Berkson's Paradox <a class="headerlink" id="he1" href="#he1"
                                     title="Permalink to this headline"><i
                    class="fas fa-link"></i></a></h1>
            <p>
                A first striking example is the observed negative association
                between COVID-19 severity and smoking cigarettes (see e.g. the
                European Commission review by
                <a href="https://ec.europa.eu/jrc/en/publication/smoking-and-covid-19-review-studies-suggesting-protective-effect-smoking-against-covid-19">Wenzel
                    2020</a>).
                Smoking cigarettes is a well-known risk factor for respiratory diseases, so how do
                we explain this contradiction?
            </p>
            <p>
                The work of <a href="https://www.nature.com/articles/s41467-020-19478-2">Griffith 2020</a> recently
                published on Nature suggests that this can be a case of
                <strong>Collider Bias</strong>, also called <a
                    href="https://en.wikipedia.org/wiki/Berkson's_paradox"><strong>Berkson's Paradox</strong></a>. To
                understand this paradox, let us consider the following graphical model,
                where we include a third random variable: "being hospitalized".
            </p>
            <div style="text-align: center;">
                <img src="../images/paradoxes_datascience/berkson_graph.png" width="55%"
                     alt="Berkson's paradox. Graph model.">
            </div>
            <p></p>
            <p>
                This third variable "being hospitalized" is a
                <a href="https://en.wikipedia.org/wiki/Collider_(statistics)"><strong>collider</strong></a>
                of the first two.
                This means that both smoking cigarettes and having severe COVID-19 increase
                chances of being ill in a hospital. Berkson's Paradox precisely arises
                when we condition on a collider, i.e. when we only observe data from
                hospitalized people rather than considering the whole population.
            </p>
            <p>
                Let's consider the following example dataset. In the left figure we have observations from the whole
                population, while on the right figure we only consider a subset of hospitalized people (i.e. we
                condition on the collider variable).
            </p>
            <div style="text-align: center;">
                <img src="../images/paradoxes_datascience/collider.png" width=95%"
                     alt="Berkson's paradox.">
            </div>
            <p></p>
            <p>
                In the left figure we can observe the positive correlation between COVID-19 severity and smoking
                cigarettes that we expected as we know that smoking is a risk factor for respiratory diseases.
            </p>
            <p>
                But in the right figure-where we only consider hospital patients-we see the opposite trend! To
                understand this, consider the following points.
            </p>
            <ol>
                <li>Having high severity of COVID-19 increases chances of being hospitalized. In particular, if
                    severity > 1 hospitalization is required.
                </li>
                <li>Smoking several cigarettes a day is a major risk factor for a variety of diseases (heart attacks,
                    cancer, diabetes), which increase the chances of being hospitalized for some reason.
                </li>
                <li>Hence, if a hospital patient has lower COVID-19 severity, they have higher chances of smoking
                    cigarettes! Indeed, they must have some disease different from COVID-19 (e.g. heart attacks, cancer,
                    diabetes) to justify their hospitalization, and this disease may very well be caused by their
                    smoking cigarettes.
                </li>
            </ol>
            <p>
                This example is very similar to the original work of <a
                    href="https://www.jstor.org/stable/3002000?casa_token=EBVDrF0sqOQAAAAA%3ABvQ5XgFAxop9ZGhFWkgp2cm_Ck0I1jXy27dh8iK6UUaADuPFYJM7lndD9ti_XTTlA2qPawpK4ylyb-jc9F7rNB0bG5iqL6Z4ekwWRWwDDjN4TUEdMw&seq=1#metadata_info_tab_contents">Berkson
                1946</a>, where the author noticed a negative correlation between cholecystitis and diabetes in hospital
                patients, despite diabetes being a risk factor for cholecystitis.
            </p>

            <h1>Latent Variables <a class="headerlink" id="he2" href="#he2"
                                    title="Permalink to this headline"><i
                    class="fas fa-link"></i></a></h1>
            <p>
                The presence of a <a href="https://en.wikipedia.org/wiki/Latent_variable">latent variable</a> may also
                produce an apparently inverted correlation
                between two variables. While Berkson's Paradox arises because of the conditioning on a collider variable
                (which should therefore be avoided), this other kind of paradox can be fixed by conditioning on the
                latent variable.
            </p>
            <p>
                Let's consider, for instance, the relation between number of firefighter deployed to extinguish a fire
                and the number people that are injured in the fire. We would expect that having more firefighters would
                improve the outcome (to some extent—see <a href="https://en.wikipedia.org/wiki/Brooks's_law">Brooks's
                Law</a>), yet a positive correlation is
                observed in
                aggregated data: the more firefighters are deployed, the higher the number of injured!
            </p>
            <p>
                To understand this paradox, let us consider the following graphical model. The key is to consider again
                a third random variable: "fire severity".
            </p>
            <div style="text-align: center;">
                <img src="../images/paradoxes_datascience/latent_graph.png" width=55%"
                     alt="Latent variables. Graph model.">
            </div>
            <p></p>
            <p>
                This third latent variable positively correlates with the other two. Indeed, more severe fires tend to
                cause more injuries, and at the same time they require more firefighters to be extinguished.
            </p>
            <p>
                Let's consider the following example dataset. In the left figure we have aggregated observations from
                all kinds of fires, while on the right figure we only consider observations corresponding to three fixed
                degrees of fire severity (i.e. we condition our observations on the latent variable).
            </p>
            <div style="text-align: center;">
                <img src="../images/paradoxes_datascience/latent.png" width=95%"
                     alt="Latent variables.">
            </div>
            <p></p>
            <p>
                In the right figure, where we condition observations on the degrees of fire severity, we can see the
                negative correlation we would have expected.
            </p>
            <ul>
                <li>For a fire of given severity we can indeed observe that the more the firefighters deployed, the
                    fewer the injured people.
                </li>
                <li>If the we look at fires with higher severity, we observe the same trend even though both number of
                    firefighters
                    deployed and number of injured people are higher.
                </li>
            </ul>

            <h1>3. Simpson's Paradox <a class="headerlink" id="he3" href="#he3"
                                        title="Permalink to this headline"><i
                    class="fas fa-link"></i></a></h1>
            <p>
                <a href="https://en.m.wikipedia.org/wiki/Simpson's_paradox">Simpson's Paradox</a> is a surprising
                phenomenon arising when a trend that is consistently observed in sub-groups, but the trend is inverted
                if sub-groups are merged. It is often related to the class imbalance in data sub-groups.
            </p>
            <p>
                A notorious occurrence of this paradox is from <a
                    href="https://science.sciencemag.org/content/187/4175/398.abstract">Bickel 1975</a>, where
                acceptance rates to the University of California weer analysed to find evidence of sex discrimination,
                and two apparently contradicting facts were revealed.
            </p>
            <ul>
                <li>On the one hand, female applicants had higher acceptance rates than male applicants in every
                    department.
                </li>
                <li>On the other hands, aggregate numbers showed that female applicants had lower acceptance rates than
                    male applicants.
                </li>
            </ul>
            <p>
                To see how this is possible, let's consider the following dataset with the two departments Dept. A and
                Dept. B.
            </p>
            <ul>
                <li>Out of 100 male applicants: 80 applied to Dept. A and 68 were accepted (85%), while 20 applied to
                    Dept. B and 12 were accepted (60%).
                </li>
                <li>Out of 100 female applicants: 30 applied to Dept. A and 28 were accepted (93%), while 70 applied to
                    Dept. B and 46 were accepted (66%).
                </li>
            </ul>
            <div style="text-align: center;">
                <img src="../images/paradoxes_datascience/simpson.png" width=95%"
                     alt="Simpons's Paradox.">
            </div>
            <p></p>
            <p>
                The paradox is expressed by the following inequalities.
            </p>

            <div style="text-align: center;">
                <img src="../images/paradoxes_datascience/ineq.png" width=95%"
                     alt="Simpons's Paradox. Apparently contradictory inequalities.">
            </div>
            <p></p>
            <p>
                We can now understand the origin of our seemingly contradictory observations. The point is that there is
                a significant class imbalance in the sex of applicants in each of the two departments (Dept. A: 80–30,
                Dept. B: 20–70). Indeed, most female students applied to the more competitive Dept. B (which has low
                rates of admission), while most male students applied to the less competitive Dept. A (which has higher
                rates of admission). This causes the contradictory observations we had.
            </p>

            <h1>Conclusions <a class="headerlink" id="he4" href="#he4"
                               title="Permalink to this headline"><i
                    class="fas fa-link"></i></a></h1>
            <p>
                The presence of neglected latent variables, collider variables, and class imbalance can easily produce
                statistical paradoxes in most data science applications. A particular attention to these key points is
                therefore essential to correctly derive trends and analyse the results.
            </p>
        </div>
    </div>
</div>

<hr>

<!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-md-10 mx-auto">
                <ul class="list-inline text-center">
                    <li class="list-inline-item">
                        <a href="https://www.linkedin.com/in/francescocasalegno/">
                <span class="fa-stack fa-lg">
                  <i class="fas fa-circle fa-stack-2x"></i>
                  <i class="fab fa-linkedin-in fa-stack-1x fa-inverse"></i>
                </span>
                        </a>
                    </li>
                    <li class="list-inline-item">
                        <a href="https://github.com/FrancescoCasalegno">
                <span class="fa-stack fa-lg">
                  <i class="fas fa-circle fa-stack-2x"></i>
                  <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                </span>
                        </a>
                    </li>
                    <li class="list-inline-item">
                        <a href="https://medium.com/@francesco.casalegno">
                <span class="fa-stack fa-lg">
                  <i class="fas fa-circle fa-stack-2x"></i>
                  <i class="fab fa-medium-m fa-stack-1x fa-inverse"></i>
                </span>
                        </a>
                    </li>
                </ul>
                <hr>
                <p class="copyright text-muted">Copyright &copy; Francesco Casalegno 2020</p>
            </div>
        </div>
    </div>
</footer>


<!-- jQuery -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<!-- Bootstrap -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
        crossorigin="anonymous"></script>

<!-- Custom scripts for this template -->

</body>
</html>